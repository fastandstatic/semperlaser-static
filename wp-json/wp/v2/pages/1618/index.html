{"id":1618,"date":"2024-01-26T14:28:00","date_gmt":"2024-01-26T14:28:00","guid":{"rendered":"https:\/\/semperlaser.fastandstatic.com\/?page_id=1618"},"modified":"2024-01-29T02:24:04","modified_gmt":"2024-01-29T02:24:04","slug":"whatsap","status":"publish","type":"page","link":"https:\/\/semperlaser.fastandstatic.com\/whatsap\/","title":{"rendered":"Whatsap"},"content":{"rendered":"\t\t<div data-elementor-type=\"wp-page\" data-elementor-id=\"1618\" class=\"elementor elementor-1618\" data-elementor-post-type=\"page\">\n\t\t\t\t\t\t\t<div class=\"elementor-element elementor-element-e4489bc e-con-full e-flex e-con e-parent\" data-id=\"e4489bc\" data-element_type=\"container\" data-settings=\"{&quot;content_width&quot;:&quot;full&quot;,&quot;container_type&quot;:&quot;flex&quot;}\" data-core-v316-plus=\"true\">\n\t\t\t\t<div class=\"elementor-element elementor-element-6759014 elementor-widget elementor-widget-html\" data-id=\"6759014\" data-element_type=\"widget\" data-widget_type=\"html.default\">\n\t\t\t\t<div class=\"elementor-widget-container\">\n\t\t\t \r\n<link href='https:\/\/use.fontawesome.com\/releases\/v5.8.2\/css\/all.css' rel='stylesheet' type='text\/css'\/>\r\n<script src=\"https:\/\/code.jquery.com\/jquery-3.6.4.min.js\"><\/script>\r\n\r\n\r\n<div id='whatsapp-chat' class='hide'>\r\n    <div class='header-chat'>\r\n        <div class='head-home'>\r\n            <h3>Hola !<\/h3>\r\n            <p>Mensaje de ejemplo<\/p>\r\n        <\/div>\r\n        <div class='get-new hide'>\r\n            <div id='get-label'>Hola! <\/div>\r\n            <div id='get-nama'>Tu numero:<\/div>\r\n            <div>Hola! <\/div>\r\n            <div>Tu numero:<\/div>\r\n        <\/div>\r\n    <\/div>\r\n    <div class='home-chat'>\r\n        <form class=\"laser-form\" method=\"post\" id=\"form_whatsapp_sl\" name=\"Form Semperlaser\">\r\n        \t<input type=\"hidden\" name=\"post_id\" value=\"\">\r\n        \t<input type=\"hidden\" name=\"form_id\" value=\"\">\r\n        \t<input type=\"hidden\" name=\"referer_title\" value=\"Semper laser - Whatsapp\">\r\n        \t<input type=\"hidden\" name=\"queried_id\" value=\"\">\t\t\r\n        \t<div class='info-avatar show'>\r\n        \t   <div class=\"laser-form-fields laser-labels\">\r\n                \t<div class=\"laser-field-type-tel laser-field-group\">\r\n                \t\t<input type=\"tel\" name=\"form_fields[phone]\" id=\"form-field-phone\" class=\"laser-field\" placeholder=\"Phone\">\r\n                \t<\/div>\r\n                \t<div class=\"laser-field-type-hidden\">\r\n                \t\t<input type=\"hidden\" name=\"form_fields[utm_term]\" id=\"form-field-utm_term\" value=\"\">\r\n                \t<\/div>\r\n                \t<div class=\"laser-field-type-hidden\">\r\n                \t\t<input type=\"hidden\" name=\"form_fields[utm_medium]\" id=\"form-field-utm_medium\" value=\"\">\r\n                \t<\/div>\r\n                \t<div class=\"laser-field-type-hidden\">\r\n                \t\t<input type=\"hidden\" name=\"form_fields[utm_campaign]\" id=\"form-field-utm_campaign\" value=\"\">\r\n                \t<\/div>\r\n                \t<div class=\"laser-field-type-hidden\">\r\n                \t\t<input type=\"hidden\" name=\"form_fields[utm_source]\" id=\"form-field-utm_source\" value=\"\">\r\n                \t<\/div>\r\n                \t<div class=\"laser-field-type-hidden\">\r\n                \t\t<input type=\"hidden\" name=\"form_fields[utm_content]\" id=\"form-field-utm_content\" value=\"\">\r\n                \t<\/div>\r\n    \t\t    <\/div>\r\n    \t\t    <div class='info-chat'>\r\n                    <button type=\"button\"id=\"btnValidar\" class='informasi chat-label'>Siguiente<\/button>\r\n                <\/div>\r\n            <\/div>\r\n            <div class='start-chat hide'>\r\n                <div pattern=\"https:\/\/elfsight.com\/assets\/chats\/patterns\/whatsapp.png\" class=\"whatsapp-chat-body\">\r\n                  <div class=\"WhatsappChat\">\r\n                    <div style=\"opacity: 0;\" class=\"WhatsappDots\">\r\n                      <div class=\"WhatsappDots-inner\">\r\n                        <div class=\"WhatsappDots-Dot\"><\/div>\r\n                        <div class=\"WhatsappDots-Dot\"><\/div>\r\n                        <div class=\"WhatsappDots-Dot\"><\/div>\r\n                      <\/div>\r\n                    <\/div>\r\n                    <div style=\"opacity: 1;\" class=\"WhatsappChat__Message\">\r\n                      <div class=\"WhatsappChat__Author\">Semper Laser<\/div>\r\n                      <div class=\"WhatsappChat__Text\">Hola! \ud83d\udc4b<br><br>En que te podemos ayudar?<\/div>\r\n                      <div class=\"WhatsappChat__Time\">1:40<\/div>\r\n                    <\/div>\r\n                  <\/div>\r\n                <\/div>\r\n                <div class='blanter-msg'>\r\n        \t\t\t<textarea class=\"laser-field-textual laser-field\" name=\"form_fields[message]\" id=\"form-field-message\" maxlength=\"120\" rows=\"1\" placeholder=\"Message\"><\/textarea>\t\t\t\t\r\n                \t<button type=\"submit\" class=\"laser-button laser-size-sm\">\r\n                \t\t<svg viewBox=\"0 0 448 448\"><path d=\"M.213 32L0 181.333 320 224 0 266.667.213 416 448 224z\"><\/path><\/svg>\r\n                \t<\/button>\r\n                <\/div>\r\n            <\/div>\r\n            <div class='footer-msg'>Make by <b>e-me.co<\/b><\/div>\r\n        <\/form>\r\n    <\/div>\r\n    <div id='get-number'><\/div>\r\n    <a href=\"#\" class='close-chat'>\u00d7<\/a>\r\n<\/div>\r\n<a href=\"#\" class='blantershow-chat' title='Show Chat'>\r\n    <i class='fab fa-whatsapp'><\/i>\r\n    Whatsapp\r\n<\/a>\r\n        \r\n<script>\r\n\r\n    document.addEventListener('DOMContentLoaded', function() {\r\n      document.getElementById('btnValidar').addEventListener('click', function() {\r\n        \/\/ Obtener el valor del campo de texto\r\n        var valorCampo = document.getElementById('form-field-phone').value.trim();\r\n\r\n        \/\/ Obtener el elemento del campo de texto\r\n        var campoTexto = document.getElementById('form-field-phone');\r\n\r\n\r\n      });\r\n    });\r\n\r\n\r\n    $(document).on(\"click\", \".close-chat\", function() {\r\n        $(\"#whatsapp-chat\").addClass(\"hide\").removeClass(\"show\")\r\n    });\r\n    $(document).on(\"click\", \".blantershow-chat\", function() {\r\n        $(\"#whatsapp-chat\").addClass(\"show\").removeClass(\"hide\")\r\n    });\r\n\r\n<\/script>\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"elementor-element elementor-element-8fca5ed elementor-widget elementor-widget-html\" data-id=\"8fca5ed\" data-element_type=\"widget\" data-widget_type=\"html.default\">\n\t\t\t\t<div class=\"elementor-widget-container\">\n\t\t\t<style>\n.elementor-message.elementor-message-danger {\n    display: none;\n}\nh2#swal2-title {\n    color: #000;\n    font-size: 16px;\n    position: relative;\n    width: 80%;\n    margin: 20px auto;\n}\n.swal2-popup {\n    background-color: #fff;\n    border-radius: 20px;\n    padding-bottom: 40px;\n    padding-top: 40px;\n    background-image: url(https:\/\/impactdesign.fastandstatic.com\/wp-content\/uploads\/2024\/01\/make-bg-tall4.png);\n    background-repeat: no-repeat;\n    background-size: cover;\n    background-position: top;\n}\n.swal2-success-circular-line-left {\n    background-color: rgb(255 255 255 \/ 0%) !important;\n}\n.swal2-success-circular-line-right {\n    background-color: rgb(255 255 255 \/ 0%) !important;\n}\n.swal2-success-fix {\n    background-color: rgb(255 255 255 \/ 0%) !important;\n}\n.swal2-actions button[type=button] {\n    background-color: #FFEB3B !important;\n    color: #000;\n    font-size: 14px;\n    font-weight: 600;\n    border-radius: 20px;\n    padding: 10px 50px;\n}\ndiv:where(.swal2-icon).swal2-success [class^=swal2-success-line] {\n    background-color: #9BE379 !important;\n}\ndiv:where(.swal2-icon).swal2-success .swal2-success-ring {\n    border: .25em solid rgb(255 255 255 \/ 30%) !important;\n}\ndiv:where(.swal2-container).swal2-backdrop-show, div:where(.swal2-container).swal2-noanimation {\n    background: rgba(0,0,0,.4);\n    \n    backdrop-filter: blur(15px);\n    -webkit-backdrop-filter: blur(15px);\n}\n\n<\/style>\n\n<script src=\"\/\/cdn.jsdelivr.net\/npm\/sweetalert2@11\"><\/script>\n\n<script>\n document.addEventListener('DOMContentLoaded', function(){\n    var valDocInput = document.getElementById(\"form-field-phone\");\n    valDocInput.addEventListener(\"keydown\", function(event) {\n        \/\/ C\u00f3digos de teclas para n\u00fameros, teclas de navegaci\u00f3n y retroceso\n        var allowedKeyCodes = [48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 96, 97, 98, 99, 100, 101, 102, 103, 104, 105, 8, 9];\n        \/\/ Permitir el punto decimal (.)\n        if (event.keyCode === 190 || event.keyCode === 110) {\n            return true;\n        }\n        \/\/ Verificar si la tecla presionada est\u00e1 permitida\n        if (allowedKeyCodes.indexOf(event.keyCode) === -1) {\n            event.preventDefault();\n            return false;\n        }\n    });\n     \n    function handleSubmit(event) {\n        event.preventDefault();\n        event.stopPropagation();\n \n        const data = new FormData(event.target);\n        const value = Object.fromEntries(data.entries());\n        const elements = event.target.elements;\n        var obj ={};\n        for(var i = 0 ; i < elements.length ; i++){\n            var item = elements.item(i);\n            obj[item.name] = item.value;\n        }\n        \n        console.log(obj)\n        validaPhone();\n        validarCampo();\n        fetch(\"#\",\n            {\n            body: JSON.stringify(value),\n            headers: {\n                Accept: 'application\/json',\n                'Content-Type': 'application\/json',\n            },\n            method: \"post\",\n        }) \n        .then((value) =>{\n            console.log('Se envio con exito el form');\n            Swal.fire({\n            title: \"Tu mensaje ha sido enviado, pronto nos pondremos en contatcto contigo.\",\n            icon: \"success\",\n            confirmButtonColor: \"#26528F\",\n            confirmButtonText: \"Close\",\n          });\n          \/\/evento();\n        })\n        .catch((error) => {\n            console.error('Error:', error);\n        });\n    }\n\n    function evento() {\n         var evento= \"formulario-enviado-semperlaser_whatsaap\";\n        \/\/fbq(\"trackCustom\", evento), \n        gtag(\"event\", evento, {\n            event_category: \"Form\", \n           event_label: evento \n        });\n    }\n\n\n    function validarCampo() {\n      \/\/ Obtener el valor del campo de texto\n      const valorCampo = document.getElementById('form-field-phone').value;\n\n      \/\/ Obtener el elemento del campo de texto\n      const campoTexto = document.getElementByClassName('start-chat');\n      const campoTexto2 = document.getElementByClassName('info-avatar');\n\n      \/\/ Validar si el campo est\u00e1 vac\u00edo\n      if (valorCampo === '') {\n        alert('Por favor, ingrese texto en el campo.');\n        \/\/ Agregar clase para resaltar que el campo est\u00e1 vac\u00edo\n      \n \n      } else {\n        alert('Texto ingresado: ' + valorCampo);\n        \/\/ Agregar clase para resaltar que el campo tiene un valor\n        campoTexto.classList.add('show');\n        campoTexto2.classList.remove('hide');\n        \/\/ Puedes realizar otras acciones si el campo no est\u00e1 vac\u00edo\n      }\n    }\n    \n    function validaPhone() {\n        const phone = document.getElementById(\"form-field-phone\");\n        var phoneNumber = phone.value.toString(); \n             \n        if (phoneNumber.length >= 1 && phoneNumber != '') {\n                console.log(\"phone ok\");\n        } else {\n            Swal.fire({\n                title: \"Ingresa el n\u00famero de tel\u00e9fono\",\n                icon: \"error\",\n                confirmButtonColor: \"#000000\",\n                confirmButtonText: \"Cerrar\",\n            });\n\n            phone.focus();\n            return false;\n        }  \n    }\n\n    function utm_llenar(){\n        const valores = window.location.search;\n        const urlParams = new URLSearchParams(valores);\n        var term = urlParams.get('utm_term');\n        var medium = urlParams.get('utm_medium');\n        var campaign = urlParams.get('utm_campaign');\n        var source = urlParams.get('utm_source');\n        var content = urlParams.get('utm_content');\n        document.getElementById(\"form-field-utm_term\").value=term;\n        document.getElementById(\"form-field-utm_medium\").value=medium;\n        document.getElementById(\"form-field-utm_campaign\").value=campaign;\n        document.getElementById(\"form-field-utm_source\").value=source;\n        document.getElementById(\"form-field-utm_content\").value=content;\n        \/\/console.log(\"UTM LISTAS\");\n    }\n      \n    function addEvent() {\n        utm_llenar();\n        \/\/cargarinfo();\n        const form = document.querySelector('#form_whatsapp_sl');\n        console.log(\"form\",form);\n        if(!form){\n            \"No se encontro formulario con id\"\n        }\n        form.addEventListener('submit', function handleSubmit(){\n        });\n    }\n    \n    function limpiarForm() {\n        let formulario = document.getElementById('form_whatsapp_sl');\n        formulario.addEventListener('submit', function() {\n          formulario.reset();\n        });\n    }\n  \n    window.onload= addEvent();\n    limpiarForm();\n\n});\n    \n<\/script>\t\n\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t<div class=\"elementor-element elementor-element-4bb8bb3 e-flex e-con-boxed e-con e-parent\" data-id=\"4bb8bb3\" data-element_type=\"container\" data-settings=\"{&quot;container_type&quot;:&quot;flex&quot;,&quot;content_width&quot;:&quot;boxed&quot;}\" data-core-v316-plus=\"true\">\n\t\t\t\t\t<div class=\"e-con-inner\">\n\t\t\t\t<div class=\"elementor-element elementor-element-2d9aa72 elementor-widget elementor-widget-html\" data-id=\"2d9aa72\" data-element_type=\"widget\" data-widget_type=\"html.default\">\n\t\t\t\t<div class=\"elementor-widget-container\">\n\t\t\t<!DOCTYPE html>\r\n<html lang=\"es\">\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <link href='https:\/\/use.fontawesome.com\/releases\/v5.8.2\/css\/all.css' rel='stylesheet' type='text\/css' \/>\r\n    <script src=\"https:\/\/code.jquery.com\/jquery-3.6.4.min.js\"><\/script>\r\n    <script src=\"\/\/cdn.jsdelivr.net\/npm\/sweetalert2@11\"><\/script>\r\n<\/head>\r\n\r\n<body onload=\"actualizarHora()\">\r\n\r\n<div id='whatsapp-chat' class='hide'>\r\n    <div class='header-chat'>\r\n        <div class='head-home'>\r\n            <div class=\"company-info\">\r\n                <img decoding=\"async\" id=\"company-logo\" src=\"https:\/\/semperlaser.fastandstatic.com\/wp-content\/uploads\/2024\/01\/Logo-Semperlaser-webchat.png\" alt=\"Online\" class=\"company-logo\">\r\n                <h3 id=\"company-name\">Semperlaser<\/h3>\r\n                <div id=\"client-time\" class=\"client-time\"><\/div>\r\n            <\/div>\r\n        <\/div>\r\n            \r\n            <div id=\"client-info\"><\/div>\r\n        \r\n            <div class='get-new hide'>\r\n                <div id='get-label'>Hola! <\/div>\r\n                <div id='get-nama'>Tu numero:<\/div>\r\n                <div>Hola! <\/div>\r\n                <div>Tu numero:<\/div>\r\n            <\/div>\r\n        <\/div>\r\n        <div class='home-chat'>\r\n            <form class=\"laser-form\" method=\"post\" id=\"form_whatsapp_sl\" name=\"Form Semperlaser\">\r\n               \r\n  <!-- primer paso: datos informacion -->\r\n\r\n\r\n<!-- Formulario -->\r\n<div class='info-avatar show'>\r\n    <div class=\"laser-form-fields laser-labels\">\r\n        <p class=\"asesor-text\" id=\"asesor-text\">Ingresa tus datos para contactar con un asesor<\/p>\r\n\r\n        <div class=\"laser-field-type-text laser-field-group\">\r\n            <label for=\"form-field-name\">Escribe tu nombre:<\/label>\r\n            <input type=\"text\" name=\"form_fields[name]\" id=\"form-field-name\" class=\"laser-field input-nombre\" placeholder=\"Nombre Completo\">\r\n        <\/div>\r\n        <div class=\"laser-field-type-tel laser-field-group\">\r\n            <label for=\"form-field-phone\">Escribe tu WhatsApp o Tel\u00e9fono:<\/label>\r\n            <input type=\"tel\" name=\"form_fields[phone]\" id=\"form-field-phone\" class=\"laser-field input-telefono\" placeholder=\"Tel\u00e9fono\">\r\n        <\/div>\r\n        <div class=\"laser-field-type-select laser-field-group\">\r\n            <label for=\"form-field-option\">Selecciona el servicio que requieres:<\/label>\r\n            <select name=\"form_fields[option]\" id=\"form-field-option\" class=\"laser-field select-servicio\">\r\n                <option value=\"opcion1\">Servicio 1<\/option>\r\n                <option value=\"opcion2\">Servicio 2<\/option>\r\n                <option value=\"opcion3\">Servicio 3<\/option>\r\n            <\/select>\r\n        <\/div>\r\n    <\/div>\r\n    <div class='info-chat'>\r\n        <button type=\"button\" id=\"btnValidar\" class='informasi chat-label'>Siguiente<\/button>\r\n    <\/div>\r\n<\/div>\r\n\r\n\r\n                <!-- Segundo paso: Escribir mensaje -->\r\n                <div class='start-chat hide'>\r\n                    <div pattern=\"https:\/\/elfsight.com\/assets\/chats\/patterns\/whatsapp.png\" class=\"whatsapp-chat-body\">\r\n                        <div class=\"WhatsappChat\">\r\n                            <div style=\"opacity: 0;\" class=\"WhatsappDots\">\r\n                                <div class=\"WhatsappDots-inner\">\r\n                                    <div class=\"WhatsappDots-Dot\"><\/div>\r\n                                    <div class=\"WhatsappDots-Dot\"><\/div>\r\n                                    <div class=\"WhatsappDots-Dot\"><\/div>\r\n                                <\/div>\r\n                            <\/div>\r\n                            <div style=\"opacity: 1;\" class=\"WhatsappChat__Message\">\r\n                        <div class=\"WhatsappChat__Author\">Semper Laser<\/div>\r\n                                 <div class=\"WhatsappChat__Text\">Hola! \ud83d\udc4b<br><br>En que te podemos ayudar?<\/div>\r\n                                 <div class=\"WhatsappChat__Time\" id=\"horaUsuario\"><\/div>\r\n                         <\/div>\r\n                            <!-- Contenedor para mostrar los mensajes -->\r\n                            <div id=\"chat-container\"><\/div>\r\n                        <\/div>\r\n                    <\/div>\r\n                    <div class='blanter-msg'>\r\n                        <textarea class=\"laser-field-textual laser-field\" name=\"form_fields[message]\" id=\"form-field-message\" maxlength=\"120\" rows=\"1\" placeholder=\"Mensaje\"><\/textarea>\r\n                        <button type=\"submit\" class=\"laser-button laser-size-sm\">\r\n                            <svg viewBox=\"0 0 448 448\"><path d=\"M.213 32L0 181.333 320 224 0 266.667.213 416 448 224z\"><\/path><\/svg>\r\n                        <\/button>\r\n                    <\/div>\r\n                <\/div>\r\n                <div class='footer-msg'>Developed by <b>e-me.co<\/b><\/div>\r\n            <\/form>\r\n        <\/div>\r\n        <div id='get-number'><\/div>\r\n        <a href=\"#\" class='close-chat'>\u00d7<\/a>\r\n        <a href=\"#\" class='back-chat'>\u2190<\/a>\r\n    <\/div>\r\n    <a href=\"#\" class='blantershow-chat' title='Show Chat'>\r\n        <i class='fab fa-whatsapp'><\/i>\r\n        Whatsapp <\/a>\r\n\r\n<\/body>\r\n\r\n<\/html>\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"elementor-element elementor-element-5cf9854 elementor-widget elementor-widget-html\" data-id=\"5cf9854\" data-element_type=\"widget\" data-widget_type=\"html.default\">\n\t\t\t\t<div class=\"elementor-widget-container\">\n\t\t\t<script>\r\n    $(document).ready(function () {\r\n        let formularioBloqueado = false;\r\n    let chatCerradoDespuesDeEnviar = false;\r\n    let nombreUsuario, telefonoUsuario, opcionSeleccionada;\r\n    let mensajesChat = '';\r\n    let mensajeContactoMostrado = false;\r\n\r\n    function configurarSaludoInicial() {\r\n        const saludoInicial = `Hola ${nombreUsuario}! \ud83d\udc4b<br> Tu WhatsApp: ${telefonoUsuario} <br><br> Te gustar\u00eda asignar una cita,<br> para nuestro servicio: <br> <b>${opcionSeleccionada}<\/b>?`;\r\n        $(\".WhatsappChat__Text\").empty().html(saludoInicial);\r\n    }\r\n\r\n        function mostrarSegundoPaso() {\r\n            $(\".info-avatar\").addClass(\"hide\");\r\n        $(\".start-chat\").removeClass(\"hide\");\r\n    }\r\n\r\n        function mostrarChat() {\r\n        if (formularioBloqueado) {\r\n            $(\".start-chat\").removeClass(\"hide\");\r\n        $(\".info-avatar\").addClass(\"hide\");\r\n        } else {\r\n            mostrarSegundoPaso();\r\n        }\r\n\r\n        configurarSaludoInicial();\r\n        $(\"#whatsapp-chat\").addClass(\"show\").removeClass(\"hide\");\r\n        $(\"#form-field-name\").val(nombreUsuario);\r\n        $(\"#form-field-phone\").val(telefonoUsuario);\r\n        $(\"#form-field-option\").val(opcionSeleccionada);\r\n\r\n        if ($(\"#chat-container\").is(':empty')) {\r\n            $(\"#chat-container\").html(mensajesChat);\r\n        }\r\n    }\r\n\r\n        function esTelefonoValido(telefono) {\r\n        const patron = \/^\\d{10}$\/;\r\n        return patron.test(telefono);\r\n    }\r\n\r\n        $(\"#btnValidar\").on(\"click\", function () {\r\n            nombreUsuario = $(\"#form-field-name\").val().trim();\r\n        telefonoUsuario = $(\"#form-field-phone\").val().trim();\r\n        opcionSeleccionada = $(\"#form-field-option\").val().trim();\r\n        var mensaje = $(\"#form-field-message\").val().trim();\r\n\r\n        if (!esTelefonoValido(telefonoUsuario)) {\r\n            Swal.fire({\r\n                icon: 'error',\r\n                title: 'Error',\r\n                text: 'Por favor, ingresa un n\u00famero de tel\u00e9fono v\u00e1lido.',\r\n            });\r\n        return;\r\n        }\r\n\r\n        enviarDatosWebhook({\r\n            nombre: nombreUsuario,\r\n        telefono: telefonoUsuario,\r\n        opcion: opcionSeleccionada,\r\n        mensaje: mensaje\r\n        });\r\n\r\n        mostrarChat();\r\n    });\r\n\r\n        $(\"#form_whatsapp_sl\").submit(function (event) {\r\n            event.preventDefault();\r\n\r\n        if (formularioBloqueado) return false;\r\n\r\n        var mensaje = $(\"#form-field-message\").val().trim();\r\n        if (mensaje !== '') {\r\n            agregarMensajeAlChat(mensaje);\r\n        $(\"#form-field-message\").val('');\r\n        }\r\n    });\r\n\r\n        function agregarMensajeAlChat(mensaje) {\r\n        const ahora = new Date();\r\n        const horaFormato = ahora.toTimeString().split(' ')[0];\r\n\r\n        var mensajeUsuarioHTML = `\r\n        <div class=\"WhatsappChat__Message WhatsappChat__Message--user\">\r\n            <div class=\"WhatsappChat__Text WhatsappChat__Text--user\">${mensaje}<\/div>\r\n            <div class=\"WhatsappChat__Time WhatsappChat__Time--user\">${horaFormato}<\/div>\r\n        <\/div>\r\n        `;\r\n\r\n        $(\"#chat-container\").append(mensajeUsuarioHTML);\r\n        $(\"#form-field-message\").val('');\r\n\r\n        setTimeout(function () {\r\n            var respuestaHTML = `\r\n        <div class=\"WhatsappChat__Message\">\r\n            <div class=\"WhatsappChat__Author\">Semper Laser<\/div>\r\n            <div class=\"WhatsappChat__Text hora-respuesta\"> \u00a1Perfecto! Por favor, verifica tu WhatsApp para continuar con la conversaci\u00f3n. <\/div>\r\n        <\/div>\r\n        `;\r\n\r\n        $(\"#chat-container\").append(respuestaHTML);\r\n        $(\"#whatsapp-chat\").scrollTop($(\"#whatsapp-chat\")[0].scrollHeight);\r\n\r\n        formularioBloqueado = true;\r\n        chatCerradoDespuesDeEnviar = true;\r\n        $(\"#form-field-message\").hide();\r\n        $(\".start-chat .blanter-msg\").hide();\r\n        }, 500);\r\n    }\r\n\r\n\r\n\r\n    function enviarDatosWebhook(data) {\r\n        \/\/ Obtener la fecha y hora actuales\r\n        var ahora = new Date();\r\n        var fecha = ahora.toISOString().split('T')[0]; \/\/ Formato de fecha: YYYY-MM-DD\r\n        var hora = ahora.toTimeString().split(' ')[0]; \/\/ Formato de hora: HH:MM:SS\r\n    \r\n        \/\/ Agregar la fecha, hora y tipo de dispositivo al objeto data\r\n        data.fecha = fecha;\r\n        data.hora = hora;\r\n        data.dispositivo = detectarDispositivo();\r\n    \r\n        $.ajax({\r\n            url: 'https:\/\/hook.us1.make.com\/vdjms9pmw54ob4ucw27on48bgopbpmg1',\r\n            type: 'POST',\r\n            contentType: 'application\/json',\r\n            data: JSON.stringify(data),\r\n            success: function (response) {\r\n                console.log('Datos enviados con \u00e9xito', response);\r\n            },\r\n            error: function (error) {\r\n                console.error('Error al enviar datos', error);\r\n            }\r\n        });\r\n    }\r\n    \r\n    function detectarDispositivo() {\r\n        const ua = navigator.userAgent;\r\n        if (\/mobile\/i.test(ua)) {\r\n            return 'M\u00f3vil';\r\n        } else if (\/tablet\/i.test(ua)) {\r\n            return 'Tablet';\r\n        } else {\r\n            return 'Escritorio';\r\n        }\r\n    }\r\n    \r\n    $(\"#form-field-message\").on(\"keydown\", function (event) {\r\n        if (event.key === \"Enter\") {\r\n            $(\"#form_whatsapp_sl\").submit();\r\n        }\r\n    });\r\n    \r\n    \r\n\r\n        $(document).on(\"click\", \".close-chat, .blantershow-chat\", function () {\r\n        const isClosing = $(this).hasClass(\"close-chat\");\r\n        if (isClosing) {\r\n            mensajesChat = $(\"#chat-container\").html();\r\n        $(\"#whatsapp-chat\").addClass(\"hide\").removeClass(\"show\");\r\n        } else {\r\n            if (chatCerradoDespuesDeEnviar && !mensajeContactoMostrado) {\r\n            mostrarMensajeContacto();\r\n        chatCerradoDespuesDeEnviar = false;\r\n            } else {\r\n            $(\"#whatsapp-chat\").removeClass(\"hide\").addClass(\"show\");\r\n            }\r\n        }\r\n    });\r\n\r\n\r\n        function mostrarMensajeContacto() {\r\n        if (!mensajeContactoMostrado) {\r\n            var mensajeContactoHTML = `\r\n        <div class=\"WhatsappChat__Message2\">\r\n            <div class=\"WhatsappChat__Text\"><b>${nombreUsuario}! \ud83d\udc4b<\/b><br> Te hemos contactado a tu WhatsApp: +57${telefonoUsuario}<\/div>\r\n        <\/div>\r\n        `;\r\n\r\n        \/\/ Limpia todo el contenido del chat antes de agregar el nuevo mensaje\r\n        $(\"#chat-container\").empty().html(mensajeContactoHTML);\r\n        mensajeContactoMostrado = true;\r\n        }\r\n        $(\"#whatsapp-chat\").addClass(\"show\").removeClass(\"hide\");\r\n        $(\".WhatsappChat__Message\").css('display', 'none');\r\n    }\r\n\r\n\r\n\r\n        \/\/ Funciones para manejar la hora\r\n        function formatoHora(fecha) {\r\n            let hora = fecha.getHours();\r\n        let minutos = fecha.getMinutes();\r\n        const ampm = hora >= 12 ? 'PM' : 'AM';\r\n        hora = hora % 12;\r\n        hora = hora ? hora : 12;\r\n        minutos = minutos < 10 ? '0' + minutos : minutos;\r\n        return `${hora}:${minutos} ${ampm}`;\r\n    }\r\n\r\n        function actualizarHora() {\r\n            $(\"#horaUsuario\").text(formatoHora(new Date()));\r\n    }\r\n\r\n        $('#client-info').html(`Online ${formatoHora(new Date())}`);\r\n        actualizarHora();\r\n});\r\n\r\n    <\/script>\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t\t\t\t<\/div>\n\t\t","protected":false},"excerpt":{"rendered":"<p>Hola ! Mensaje de ejemplo Hola! Tu numero: Hola! Tu numero: Siguiente Semper Laser Hola! \ud83d\udc4b En que te podemos ayudar? 1:40 Make by e-me.co \u00d7 Whatsapp Semperlaser Hola! Tu numero: Hola! Tu numero: Ingresa tus datos para contactar con un asesor Escribe tu nombre: Escribe tu WhatsApp o Tel\u00e9fono: Selecciona el servicio que requieres: [&hellip;]<\/p>\n","protected":false},"author":1,"featured_media":0,"parent":0,"menu_order":0,"comment_status":"closed","ping_status":"closed","template":"elementor_canvas","meta":{"footnotes":""},"yoast_head":"<!-- This site is optimized with the Yoast SEO plugin v21.9.1 - https:\/\/yoast.com\/wordpress\/plugins\/seo\/ -->\n<title>Whatsap - Semper Laser<\/title>\n<meta name=\"robots\" content=\"index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1\" \/>\n<link rel=\"canonical\" href=\"https:\/\/semperlaser.fastandstatic.com\/whatsap\/\" \/>\n<meta property=\"og:locale\" content=\"es_ES\" \/>\n<meta property=\"og:type\" content=\"article\" \/>\n<meta property=\"og:title\" content=\"Whatsap - Semper Laser\" \/>\n<meta property=\"og:description\" content=\"Hola ! Mensaje de ejemplo Hola! Tu numero: Hola! Tu numero: Siguiente Semper Laser Hola! \ud83d\udc4b En que te podemos ayudar? 1:40 Make by e-me.co \u00d7 Whatsapp Semperlaser Hola! Tu numero: Hola! Tu numero: Ingresa tus datos para contactar con un asesor Escribe tu nombre: Escribe tu WhatsApp o Tel\u00e9fono: Selecciona el servicio que requieres: [&hellip;]\" \/>\n<meta property=\"og:url\" content=\"https:\/\/semperlaser.fastandstatic.com\/whatsap\/\" \/>\n<meta property=\"og:site_name\" content=\"Semper Laser\" \/>\n<meta property=\"article:modified_time\" content=\"2024-01-29T02:24:04+00:00\" \/>\n<meta property=\"og:image\" content=\"https:\/\/semperlaser.fastandstatic.com\/wp-content\/uploads\/2024\/01\/Logo-Semperlaser-webchat.png\" \/>\n<meta name=\"twitter:card\" content=\"summary_large_image\" \/>\n<meta name=\"twitter:label1\" content=\"Tiempo de lectura\" \/>\n\t<meta name=\"twitter:data1\" content=\"1 minuto\" \/>\n<script type=\"application\/ld+json\" class=\"yoast-schema-graph\">{\"@context\":\"https:\/\/schema.org\",\"@graph\":[{\"@type\":\"WebPage\",\"@id\":\"https:\/\/semperlaser.fastandstatic.com\/whatsap\/\",\"url\":\"https:\/\/semperlaser.fastandstatic.com\/whatsap\/\",\"name\":\"Whatsap - Semper Laser\",\"isPartOf\":{\"@id\":\"https:\/\/semperlaser.fastandstatic.com\/#website\"},\"datePublished\":\"2024-01-26T14:28:00+00:00\",\"dateModified\":\"2024-01-29T02:24:04+00:00\",\"inLanguage\":\"es\",\"potentialAction\":[{\"@type\":\"ReadAction\",\"target\":[\"https:\/\/semperlaser.fastandstatic.com\/whatsap\/\"]}]},{\"@type\":\"WebSite\",\"@id\":\"https:\/\/semperlaser.fastandstatic.com\/#website\",\"url\":\"https:\/\/semperlaser.fastandstatic.com\/\",\"name\":\"Semper Laser\",\"description\":\"\",\"potentialAction\":[{\"@type\":\"SearchAction\",\"target\":{\"@type\":\"EntryPoint\",\"urlTemplate\":\"https:\/\/semperlaser.fastandstatic.com\/?s={search_term_string}\"},\"query-input\":\"required name=search_term_string\"}],\"inLanguage\":\"es\"}]}<\/script>\n<!-- \/ Yoast SEO plugin. -->","yoast_head_json":{"title":"Whatsap - Semper Laser","robots":{"index":"index","follow":"follow","max-snippet":"max-snippet:-1","max-image-preview":"max-image-preview:large","max-video-preview":"max-video-preview:-1"},"canonical":"https:\/\/semperlaser.fastandstatic.com\/whatsap\/","og_locale":"es_ES","og_type":"article","og_title":"Whatsap - Semper Laser","og_description":"Hola ! Mensaje de ejemplo Hola! Tu numero: Hola! Tu numero: Siguiente Semper Laser Hola! \ud83d\udc4b En que te podemos ayudar? 1:40 Make by e-me.co \u00d7 Whatsapp Semperlaser Hola! Tu numero: Hola! Tu numero: Ingresa tus datos para contactar con un asesor Escribe tu nombre: Escribe tu WhatsApp o Tel\u00e9fono: Selecciona el servicio que requieres: [&hellip;]","og_url":"https:\/\/semperlaser.fastandstatic.com\/whatsap\/","og_site_name":"Semper Laser","article_modified_time":"2024-01-29T02:24:04+00:00","og_image":[{"url":"https:\/\/semperlaser.fastandstatic.com\/wp-content\/uploads\/2024\/01\/Logo-Semperlaser-webchat.png"}],"twitter_card":"summary_large_image","twitter_misc":{"Tiempo de lectura":"1 minuto"},"schema":{"@context":"https:\/\/schema.org","@graph":[{"@type":"WebPage","@id":"https:\/\/semperlaser.fastandstatic.com\/whatsap\/","url":"https:\/\/semperlaser.fastandstatic.com\/whatsap\/","name":"Whatsap - Semper Laser","isPartOf":{"@id":"https:\/\/semperlaser.fastandstatic.com\/#website"},"datePublished":"2024-01-26T14:28:00+00:00","dateModified":"2024-01-29T02:24:04+00:00","inLanguage":"es","potentialAction":[{"@type":"ReadAction","target":["https:\/\/semperlaser.fastandstatic.com\/whatsap\/"]}]},{"@type":"WebSite","@id":"https:\/\/semperlaser.fastandstatic.com\/#website","url":"https:\/\/semperlaser.fastandstatic.com\/","name":"Semper Laser","description":"","potentialAction":[{"@type":"SearchAction","target":{"@type":"EntryPoint","urlTemplate":"https:\/\/semperlaser.fastandstatic.com\/?s={search_term_string}"},"query-input":"required name=search_term_string"}],"inLanguage":"es"}]}},"_links":{"self":[{"href":"https:\/\/semperlaser.fastandstatic.com\/wp-json\/wp\/v2\/pages\/1618"}],"collection":[{"href":"https:\/\/semperlaser.fastandstatic.com\/wp-json\/wp\/v2\/pages"}],"about":[{"href":"https:\/\/semperlaser.fastandstatic.com\/wp-json\/wp\/v2\/types\/page"}],"author":[{"embeddable":true,"href":"https:\/\/semperlaser.fastandstatic.com\/wp-json\/wp\/v2\/users\/1"}],"replies":[{"embeddable":true,"href":"https:\/\/semperlaser.fastandstatic.com\/wp-json\/wp\/v2\/comments?post=1618"}],"version-history":[{"count":100,"href":"https:\/\/semperlaser.fastandstatic.com\/wp-json\/wp\/v2\/pages\/1618\/revisions"}],"predecessor-version":[{"id":3291,"href":"https:\/\/semperlaser.fastandstatic.com\/wp-json\/wp\/v2\/pages\/1618\/revisions\/3291"}],"wp:attachment":[{"href":"https:\/\/semperlaser.fastandstatic.com\/wp-json\/wp\/v2\/media?parent=1618"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}